datastores:
  - name: riak_ds
    type: primary
    method: riak2_map

primary_keys:
  - id

fields:
  - name: id
    type: Uuid
    auto_generate: true
  - name: name
    type: string
    validations:
        - Length:
            min: 4
            max: 50
    riak:
        indexed: true
  - name: email
    type: Email
    riak:
        indexed: true
  - name: website
    type: string
  - name: billing_address
    type: \Norm\Address
  - name: plan
    type: enum
    values:
      - Basic
      - Premium
    riak:
        indexed: true
  - name: rating_count
    type: Counter
    riak:
        indexed: true
  - name: rating_total
    type: Counter
  - name: rating_avg
    type: float
    riak:
        indexed: true
  - name: status
    type: enum
    values:
      - Active
      - Deleted
      - PartiallyConfigured
    riak:
        indexed: true
  - name: created_by
    type: Uuid
    riak:
        indexed: true
  - name: created_at
    type: DateTime
    riak:
        indexed: true
  - name: updated_at
    type: DateTime
    riak:
        indexed: true

api_public_fields:
  - id
  - name
  - website

api_private_fields:
  - email
  - plan
  - billing_address
  - status
