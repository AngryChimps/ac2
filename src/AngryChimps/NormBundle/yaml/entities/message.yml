datastores:
  - name: riak_ds
    type: primary
    method: riak2_map

primary_keys:
  - id

fields:
  - name: id
    type: string
  - name: location_id
    type: string
  - name: author_id
    type: string
  - name: body
    type: string
  - name: status
    type: enum
    values:
      - Unread
      - Read
      - Replied
      - Archived
  - name: flags
    type: MessageFlag[]
  - name: created_at
    type: DateTime

foreign_keys:
  - name: fk_message_ad
    column_name: ad_id
    referenced_table_name: provider_ad
    referenced_column_name: id
  - name: fk_location_author
    column_name: author_id
    referenced_table_name: member
    referenced_column_name: id
